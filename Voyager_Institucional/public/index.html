<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link rel="icon" href="assets/img/logoVoyager.png">s -->
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/estilo-index.css">
    <script src="script.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Home</title>
</head>

<body>
    <!-- Barra de Navegação Superior -->
    <div class="navBar">
        <div class="container">
            <img src="assets/img/logoVoyager.png" alt="" class="logoNavbar">
            <ul>
                <li><a href="">Home</a></li>
                <li><a href="">Sobre Nós</a></li>
                <li><a href="">Sistema Solar</a></li>
                <li><a href="login.html">Login</a></li>
            </ul>
            <button class="btn btn-cadastro" id="btnCadastrar" onclick="cadastrar()">Cadastro</button>
        </div>
    </div>
    <div class="telaBanner tela">
        <div class="container">
            <p>"O universo não é indiferente a nossa <br> existência, ele depende dela."<br>
                -Stephen Hawking</p>
            <button class="btn btn-vejaAqui">Veja Aqui</button>
        </div>
    </div>
    <div class="telaValores tela">
        <div class="container">
            <div class="blocoValores">
                <h1>Nossos Valores</h1>
                <div class="blocoIcones">
                    <div class="linhaIcones">
                        <div class="icone">
                            <img src="assets/img/iconSeguro.png" alt="">
                            <br>
                            <span>Confiável</span>
                        </div>
                        <div class="icone">
                            <img src="assets/img/iconElegante.png" alt="">
                            <br>
                            <span>Elegante</span>
                        </div>
                    </div>
                    <div class="linhaIcones">
                        <div class="icone">
                            <img src="assets/img/iconCriativo.png" alt="">
                            <br>
                            <span>Criativo</span>
                        </div>
                        <div class="icone">
                            <img src="assets/img/iconOrganizado.png" alt="">
                            <br>
                            <span>Organizado</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="telaObjetivos tela">
        <div class="container">
            <h1>Nossos Objetivos</h1>
            <div class="area-info-objetivos">
                <div class="objetivos-coluna-esquerda">
                    <div class="linha-objetivos">
                        <img src="assets/img/sol.png" alt="">
                        <p>Aumentar o interesse dos interessados em relação ao Sistema Solar</p>
                    </div>
                    <div class="linha-objetivos linha-objetivos-meio">
                        <img src="assets/img/saturno.png" alt="">
                        <p>Reunir a comunidade para que todos compartilhem os seus saberes com os demais</p>
                    </div>
                    <div class="linha-objetivos linha-objetivos-meio">
                        <img src="assets/img/jupiter.png" alt="">
                        <p>Reduzir a falta de informação que circula pelo país a respeito de temáticas científicas</p>
                    </div>
                    <div class="linha-objetivos">
                        <img src="assets/img/terra.png" alt="">
                        <p>Atrair a atenção do público com diferentes dinâmicas do site</ps>
                    </div>
                </div>
                <div class="objetivos-coluna-direita">
                    <img src="assets/img/imgVenus.png" alt="">
                </div>
            </div>
        </div>
    </div>
    <div class="telaDescubra tela">
        <div class="container">
            <h1>Descubra</h1>
            <div class="container-cards-descubra">
                <div class="card-descubra">
                    <img src="assets/img/sol.png" alt="">
                    <h3 class="titulo-card">O Sol</h3>
                    <button class="btn btn-card">Visitar</button>
                </div>
                <div class="card-descubra">
                    <img src="assets/img/terra.png" alt="">
                    <h3 class="titulo-card">A Terra</h3>
                    <button class="btn btn-card">Visitar</button>
                </div>
                <div class="card-descubra">
                    <img src="assets/img/lua.png" alt="">
                    <h3 class="titulo-card">A Lua</h3>
                    <button class="btn btn-card">Visitar</button>
                </div>
            </div>
        </div>
    </div>
    <div class="telaGraficos tela">
        <div class="container">
            <h1>Votos dos Usuários</h1>
            <br><br><br>
            <div class="area-graficos area-grafico-barra">
                <canvas id="graficoPlanetas"></canvas>
                <div class="blocoTextoGrafico">
                    <p>testando escrever coisas</p>
                </div>
            </div>
            <br><br><br>
            <div class="area-graficos area-grafico-rosca">
                <div class="blocoTextoGrafico">
                    <p>
                        <span id="qtdVotosDia"></span>pessoas votaram em Dia como sendo o favorito <br><br><br>
                        <span id="qtdVotosNoite"></span>pessoas votaram em Noite como sendo o favorito 
                    </p>
                </div>
                <canvas id="graficoDiaNoite"></canvas>
            </div>

        </div>
    </div>
    <div class="telaFooter tela">
        <div class="container">
            <div class="card-footer">
                <h2>Redes Sociais</h2>
                <ul>
                    <li>Linkedin</li>
                    <li>Instagram</li>
                    <li>Twitter</li>
                    <li>Github</li>
                </ul>
            </div>
            <div class="card-footer">
                <h2>Acesso Rápido</h2>
                <ul>
                    <li>Home</li>
                    <li>Sobre Nós</li>
                    <li>Sistema Solar</li>
                    <li><a href="login.html">Login</a></li>
                    <li>Cadastro</li>
                </ul>
            </div>
            <div class="card-footer">
                <div class="formulario-contato">
                    <div class="container">
                        <h3>Formulário de Contato</h3>
                        <div class="bloco-formulario">
                            <span>Email</span>
                            <br>
                            <input type="text" id="txtEmail">
                        </div>
                        <div class="bloco-formulario">
                            <span>Assunto</span>
                            <br>
                            <input type="text" id="txtAssunto">
                        </div>
                        <div class="bloco-formulario">
                            <span>Descrição</span>
                            <br>
                            <textarea id="txtDescricao" cols="30" rows="10"></textarea>
                        </div>
                        <button class="btn btn-enviar">Enviar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>
<script>
    (function consultarDados() {
        fetch("/usuarios/consultarDados", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            }
        }).then(function (resposta) {
            if (resposta.ok) {
                resposta.json().then(json => {
                    console.log(JSON.stringify(json))
                    var registro = json[0]
                    console.log(registro)
                    labelsGraficoPlanetas.push
                        (
                            'Mercúrio', 'Vênus', 'Terra', 'Marte', 'Júpiter', 'Saturno', 'Urano', 'Netuno'
                        );
                    dadosGraficoPlanetas.datasets[0].data.push
                        (
                            registro.Mercurio,
                            registro.Venus,
                            registro.Terra,
                            registro.Marte,
                            registro.Jupiter,
                            registro.Saturno,
                            registro.Urano,
                            registro.Netuno
                        );

                    labelsGraficoDiaNoite.push('Dia', 'Noite');
                    dadosGraficoDiaNoite.datasets[0].data.push(registro.Dia, registro.Noite);

                    qtdVotosDia.innerHTML = `${registro.Dia} `;
                    qtdVotosNoite.innerHTML = `${registro.Noite} `;

                    graficoPlanetas.update()
                    graficoDiaNoite.update()

                });
            } else {
                alert("Houve um erro ao tentar realizar a consulta!");
                resposta.text().then(texto => {
                    console.error(texto);
                });
            }
        }).catch(function (erro) {
            console.log("Erro ao consultar os dados! " + erro)
        })
    })()

    // Grafico Planeta Favorito

    let labelsGraficoPlanetas = [];

    let dadosGraficoPlanetas = {
        labels: labelsGraficoPlanetas,
        datasets: [{
            label: 'Planetas Favoritos',
            data: [],
            backgroundColor: '#A974DB'
        }]
    };

    const configGraficoPlanetas = {
        type: 'bar',
        data: dadosGraficoPlanetas,
    };

    let graficoPlanetas = new Chart(
        document.getElementById(`graficoPlanetas`),
        configGraficoPlanetas
    );
    // GraficonDIa ou Noite
    let labelsGraficoDiaNoite = [];

    let dadosGraficoDiaNoite = {
        labels: labelsGraficoDiaNoite,
        datasets: [{
            label: 'Preferem Dia ou Noite?',
            data: [],
            backgroundColor: ['#A974DB', '#6B5CA5']
        }]
    };

    const configGraficoDiaNoite = {
        type: 'doughnut',
        data: dadosGraficoDiaNoite,
    };

    let graficoDiaNoite = new Chart(
        document.getElementById(`graficoDiaNoite`),
        configGraficoDiaNoite
    );
</script>